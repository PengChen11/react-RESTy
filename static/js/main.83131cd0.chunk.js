(this["webpackJsonpreact-resty"]=this["webpackJsonpreact-resty"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1),a=n.n(s),c=n(20),u=n.n(c),i=n(24),o=n(3),l=n(4),d=n(6),h=n(5),j=(n(30),n(31),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:"RESTy"})})}}]),n}(a.a.Component)),b=n(9),O=n.n(b),p=n(21),f=n(7),x=(n(33),n(22)),m=n.n(x),y=n(23),g=n.n(y),v=n(19),q=v.If,k=v.Then,C=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).handleChangeUrl=function(e){var t=e.target.value;s.setState({request:Object(f.a)(Object(f.a)({},s.state.request),{},{url:t})})},s.handleChangeMethod=function(e){s.setState({request:Object(f.a)(Object(f.a)({},s.state.request),{},{method:e,data:""})}),"post"==e&&"put"==e||(document.getElementById("jsonBody").value=null)},s.handleChangeData=function(e){var t=e.target.value;s.setState({request:Object(f.a)(Object(f.a)({},s.state.request),{},{data:t})})},s.handleRequest=function(){var e=Object(p.a)(O.a.mark((function e(t){var n,r,a,c,u,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s.setState({isLoading:!0}),!s.state.request.data){e.next=12;break}e.prev=3,n=JSON.parse(s.state.request.data),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(3),r={message:"JSON data validation failed, please double check your JSON input. Quotes needed for both keys and values"},s.props.getRequest({result:r}),e.abrupt("return");case 12:if(a={url:s.state.request.url,method:s.state.request.method,data:n},c={request:a,result:{}},s.isValidUrl(a.url)){e.next=21;break}return u={message:"Url validation failed, please double check your url input. Full url requested, like http(s)://xxx.xxx "},c=Object(f.a)(Object(f.a)({},c),{},{result:u}),s.props.getRequest(c),e.abrupt("return");case 21:return e.prev=21,e.next=24,m()(a);case 24:i=e.sent,c={request:a,result:i},s.props.getRequest(c),s.setState({isLoading:!1}),e.next=35;break;case 30:e.prev=30,e.t1=e.catch(21),c=Object(f.a)(Object(f.a)({},c),{},{result:e.t1}),s.props.getRequest(c),s.setState({isLoading:!1});case 35:case"end":return e.stop()}}),e,null,[[3,7],[21,30]])})));return function(t){return e.apply(this,arguments)}}(),s.isValidUrl=function(e){try{new URL(e)}catch(t){return!1}return!0},s.MethodButton=function(e){var t="".concat(e,"Button");return Object(r.jsx)("span",{id:t,className:"method ".concat(s.state.request.method===e),onClick:function(){return s.handleChangeMethod(e)},children:e.toUpperCase()})},s.JsonArea=function(e){return Object(r.jsx)("textarea",{id:"jsonBody",name:"data",spellCheck:"false",placeholder:"Please use strignified JSON data, text area disabled for GET and DELETE methods",disabled:"get"===e||"delete"===e,onChange:s.handleChangeData,rows:"3",cols:"90"})},s.state={request:{url:"",method:"get",data:""},isLoading:!1},s}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("form",{id:"api",onSubmit:this.handleRequest,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"url",children:"URL:"}),Object(r.jsx)("input",{id:"urlInput",type:"text",name:"url",placeholder:"http://api.url.here",onChange:this.handleChangeUrl}),Object(r.jsx)("button",{type:"submit",disabled:!this.state.request.url,children:"GO!"})]}),Object(r.jsxs)("div",{className:"methods",children:[this.MethodButton("get"),this.MethodButton("post"),this.MethodButton("put"),this.MethodButton("delete"),this.JsonArea(this.state.request.method)]})]}),Object(r.jsx)(q,{condition:this.state.isLoading,children:Object(r.jsx)(k,{children:Object(r.jsx)("div",{id:"isLoading",children:Object(r.jsx)(g.a,{type:"bars",color:"grey",width:150})})})})]})}}]),n}(a.a.Component),S=(n(51),n(10)),R=n.n(S),B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("section",{className:"results",children:[Object(r.jsx)("h2",{children:"Headers:"}),Object(r.jsx)(R.a,{src:this.props.result.headers,name:"Headers"}),Object(r.jsx)("h2",{children:"Results:"}),Object(r.jsx)(R.a,{src:this.props.result.data,name:"data"})]})}}]),n}(a.a.Component),N=(n(52),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleHistoryRequest=function(e){var t="".concat(e.method,"Button");document.getElementById(t).click(),document.getElementById("urlInput").value=e.url,e.data&&(document.getElementById("jsonBody").value=JSON.stringify(e.data))},e.renderQueryHistory=function(){var t=e.props.history.map((function(t,n){return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{className:"method ".concat(t.method),children:t.method}),Object(r.jsx)("button",{className:"url",onClick:function(){return e.handleHistoryRequest(t)},children:t.url})]},n)}));return Object(r.jsx)("ul",{id:"history",children:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("aside",{className:"history",children:[Object(r.jsx)("h2",{children:"History"}),this.renderQueryHistory()]})}}]),n}(a.a.Component)),E=(n(53),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsx)("footer",{children:Object(r.jsx)("p",{children:" \xa9 2018 Code Fellows "})})}}]),n}(a.a.Component)),I=n(19),J=I.If,L=I.Then,w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getRequest=function(e){var t={headers:e.result.headers||{error:"no headers found"},data:e.result.data||{error:e.result.message||"Unknown Error"}};r.setState({history:Object(i.a)(r.state.history.concat(e.request)),result:t}),200===e.result.status&&r.saveSucessfulRequestHistory(e)},r.saveSucessfulRequestHistory=function(e){sessionStorage.setItem(JSON.stringify(e.request),JSON.stringify(e.result))},r.state={history:[]},r}return Object(l.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j,{}),Object(r.jsx)(C,{getRequest:this.getRequest}),Object(r.jsx)("main",{children:Object(r.jsx)(J,{condition:this.state.result,children:Object(r.jsxs)(L,{children:[Object(r.jsx)(N,{history:this.state.history}),Object(r.jsx)(B,{result:this.state.result})]})})}),Object(r.jsx)(E,{})]})}}]),n}(a.a.Component),F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,55)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),s(e),a(e),c(e)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(w,{})}),document.getElementById("root")),F()}},[[54,1,2]]]);
//# sourceMappingURL=main.83131cd0.chunk.js.map