(this["webpackJsonpreact-resty"]=this["webpackJsonpreact-resty"]||[]).push([[0],{27:function(e,t,r){},28:function(e,t,r){},30:function(e,t,r){},48:function(e,t,r){},49:function(e,t,r){},50:function(e,t,r){},51:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(1),n=r.n(a),u=r(19),c=r.n(u),i=r(3),o=r(4),l=r(6),d=r(5),h=(r(27),r(28),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsx)("header",{children:Object(s.jsx)("h1",{children:"RESTy"})})}}]),r}(n.a.Component)),j=r(9),b=r.n(j),p=r(20),O=r(7),f=(r(30),r(21)),x=r.n(f),m=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).handleChangeUrl=function(e){var t=e.target.value;a.setState({request:Object(O.a)(Object(O.a)({},a.state.request),{},{url:t})})},a.handleChangeMethod=function(e){a.setState({request:Object(O.a)(Object(O.a)({},a.state.request),{},{method:e,data:""})})},a.handleChangeData=function(e){var t=e.target.value;a.setState({request:Object(O.a)(Object(O.a)({},a.state.request),{},{data:t})})},a.handleRequest=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,s,n,u,c,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a.state.request.data){e.next=11;break}e.prev=2,r=JSON.parse(a.state.request.data),e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(2),s={message:"JSON data validation failed, please double check your JSON input. Quotes needed for both keys and values"},a.props.getRequest({result:s}),e.abrupt("return");case 11:if(n={url:a.state.request.url,method:a.state.request.method,data:r||{}},u={request:n,result:{}},a.isValidUrl(n.url)){e.next=20;break}return c={message:"Url validation failed, please double check your url input. Full url requested, like http(s)://xxx.xxx "},u=Object(O.a)(Object(O.a)({},u),{},{result:c}),a.props.getRequest(u),e.abrupt("return");case 20:return e.prev=20,e.next=23,x()(n);case 23:i=e.sent,u={request:n,result:i},a.props.getRequest(u),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(20),u=Object(O.a)(Object(O.a)({},u),{},{result:e.t1}),a.props.getRequest(u);case 32:case"end":return e.stop()}}),e,null,[[2,6],[20,28]])})));return function(t){return e.apply(this,arguments)}}(),a.isValidUrl=function(e){try{new URL(e)}catch(t){return!1}return!0},a.MethodButton=function(e){var t="".concat(e,"Button");return Object(s.jsx)("span",{"data-testid":t,className:"method ".concat(a.state.request.method===e),onClick:function(){return a.handleChangeMethod(e)},children:e.toUpperCase()})},a.JsonArea=function(e){return Object(s.jsx)("textarea",{"data-testid":"jsonBody",name:"data",spellCheck:"false",placeholder:"Please use strignified JSON data, text area disabled for GET and DELETE methods",disabled:"get"===e||"delete"===e,value:a.state.request.data,onChange:a.handleChangeData})},a.state={request:{url:"",method:"get",data:""}},a}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{id:"api",onSubmit:this.handleRequest,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"url",children:"URL:"}),Object(s.jsx)("input",{"data-testid":"urlInput",type:"text",name:"url",placeholder:"http://api.url.here",onChange:this.handleChangeUrl}),Object(s.jsx)("button",{type:"submit",disabled:!this.state.request.url,children:"GO!"})]}),Object(s.jsxs)("div",{className:"methods",children:[this.MethodButton("get"),this.MethodButton("post"),this.MethodButton("put"),this.MethodButton("delete"),Object(s.jsx)("label",{htmlFor:"data"}),this.JsonArea(this.state.request.method)]})]})})}}]),r}(n.a.Component),v=(r(48),r(10)),q=r.n(v),g=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){return Object(i.a)(this,r),t.call(this,e)}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsxs)("section",{className:"results",children:[Object(s.jsx)(q.a,{src:this.props.result.headers,name:"Headers"}),Object(s.jsx)(q.a,{src:this.props.result.data,name:"data"})]})}}]),r}(n.a.Component),y=(r(49),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var a;return Object(i.a)(this,r),(a=t.call(this,e)).renderQueryHistory=function(){var e="method ".concat(a.props.history.request.method);return Object(s.jsxs)("li",{children:[Object(s.jsx)("button",{className:e,children:a.props.history.request.method}),a.props.history.request.url]})},a.handleState=function(){a.setState({requestStr:JSON.stringify(a.props.history.request)})},a.reRenderResult=function(){var e=sessionStorage.getItem(a.state.requestStr);a.props.updateResult(JSON.parse(e))},a.state={requestStr:"",resultStr:""},a}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsxs)("aside",{className:"history",children:[Object(s.jsx)("h2",{children:"History"}),Object(s.jsx)("ul",{id:"history",children:this.renderQueryHistory()})]})}}]),r}(n.a.Component)),S=(r(50),function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsx)("footer",{children:Object(s.jsx)("p",{children:" \xa9 2018 Code Fellows "})})}}]),r}(n.a.Component)),C=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var s;return Object(i.a)(this,r),(s=t.call(this,e)).getRequest=function(e){var t={headers:e.result.headers||{error:"no headers found"},data:e.result.data||{error:e.result.message||"Unknown Error"}};s.setState({request:e.request,result:t}),200===e.result.status&&s.saveSucessfulRequestHistory(e)},s.saveSucessfulRequestHistory=function(e){sessionStorage.setItem(JSON.stringify(e.request),JSON.stringify(e.result))},s.updateResult=function(e){s.setState({result:e})},s.state={request:{},result:{}},s}return Object(o.a)(r,[{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(h,{}),Object(s.jsx)(m,{getRequest:this.getRequest}),Object(s.jsxs)("main",{children:[Object(s.jsx)(y,{history:this.state,updateResult:this.updateResult}),Object(s.jsx)(g,{result:this.state.result})]}),Object(s.jsx)(S,{})]})}}]),r}(n.a.Component),k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,52)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,u=t.getTTFB;r(e),s(e),a(e),n(e),u(e)}))};c.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(C,{})}),document.getElementById("root")),k()}},[[51,1,2]]]);
//# sourceMappingURL=main.d4a2d256.chunk.js.map